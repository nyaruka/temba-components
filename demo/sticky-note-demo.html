<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <title>Sticky Note Example</title>
    <link
      href="/static/css/temba-components.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto+Mono:300|Roboto:300,400,500"
      rel="stylesheet"
    />
    <link href="../styles.css" rel="stylesheet" type="text/css" />
    <script type="module" src="../src/flow/StickyNote.ts"></script>
    <link href="/demo/static/css/prism.css" rel="stylesheet" />
    <script type="module" src="/demo/static/js/prism-loader.js"></script>
  </head>
  <body>
    <h1>Sticky Note Example</h1>
    <p><a href="../index.html">‚Üê Back to main demo</a></p>

    <table class="attr-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>uuid</td>
          <td>Unique identifier for the sticky note</td>
          <td>None (required)</td>
        </tr>
        <tr>
          <td>data</td>
          <td>
            Object containing position, title, body, and color properties.
            Position: {left: number, top: number}, color: 'yellow' | 'blue' | 'pink' | 'green' | 'gray'
          </td>
          <td>None (required)</td>
        </tr>
      </tbody>
    </table>

    <section class="doc-section">
      <h2>Events</h2>
      <p>
        The sticky note component fires events when its content is updated through the flow store system.
        Updates to title and body content are automatically synchronized with the flow state.
      </p>
    </section>

    <div class="example">
      <h3>Basic Sticky Note</h3>
      <p>A simple yellow sticky note with default positioning</p>
      <pre class="example-html"><code class="language-markup">&lt;temba-sticky-note uuid="basic-note"&gt;&lt;/temba-sticky-note&gt;</code></pre>
      <div class="demo-container">
        <temba-sticky-note id="basic-note"></temba-sticky-note>
      </div>
    </div>

    <div class="example">
      <h3>Colored Sticky Notes</h3>
      <p>Sticky notes with different color themes - click to edit the text, drag to move them around</p>
      <pre class="example-html"><code class="language-markup">&lt;!-- Multiple colored sticky notes --&gt;
&lt;temba-sticky-note uuid="yellow-note"&gt;&lt;/temba-sticky-note&gt;
&lt;temba-sticky-note uuid="blue-note"&gt;&lt;/temba-sticky-note&gt;
&lt;temba-sticky-note uuid="pink-note"&gt;&lt;/temba-sticky-note&gt;
&lt;temba-sticky-note uuid="green-note"&gt;&lt;/temba-sticky-note&gt;
&lt;temba-sticky-note uuid="gray-note"&gt;&lt;/temba-sticky-note&gt;</code></pre>
      <div class="demo-container">
        <temba-sticky-note id="yellow-note"></temba-sticky-note>
        <temba-sticky-note id="blue-note"></temba-sticky-note>
        <temba-sticky-note id="pink-note"></temba-sticky-note>
        <temba-sticky-note id="green-note"></temba-sticky-note>
        <temba-sticky-note id="gray-note"></temba-sticky-note>
      </div>
      <div class="expected">
        <strong>How to use:</strong>
        <ul>
          <li>Click and drag the sticky notes to move them around</li>
          <li>Click on the title or body text to edit it inline</li>
          <li>Press Enter or Escape to finish editing</li>
          <li>Notes snap to a 20px grid when you finish dragging</li>
          <li>Each color has its own visual theme</li>
        </ul>
      </div>
    </div>

    <script type="module">
      import '/out-tsc/temba-modules.js';

      // Configure the sticky notes with sample data
      document.addEventListener('DOMContentLoaded', () => {
        const basicNote = document.getElementById('basic-note');
        basicNote.uuid = 'basic-uuid';
        basicNote.data = {
          position: { left: 50, top: 50 },
          title: 'Basic Note',
          body: 'This is a basic sticky note example.',
          color: 'yellow'
        };

        const yellowNote = document.getElementById('yellow-note');
        yellowNote.uuid = 'yellow-uuid';
        yellowNote.data = {
          position: { left: 50, top: 50 },
          title: 'Yellow Note',
          body: 'This is a yellow sticky note! Click to edit me.',
          color: 'yellow'
        };

        const blueNote = document.getElementById('blue-note');
        blueNote.uuid = 'blue-uuid';
        blueNote.data = {
          position: { left: 300, top: 120 },
          title: 'Blue Note',
          body: 'Blue notes are cool and calm. Drag me around!',
          color: 'blue'
        };

        const pinkNote = document.getElementById('pink-note');
        pinkNote.uuid = 'pink-uuid';
        pinkNote.data = {
          position: { left: 550, top: 80 },
          title: 'Pink Note',
          body: 'Pink is vibrant and fun. Try editing my text!',
          color: 'pink'
        };

        const greenNote = document.getElementById('green-note');
        greenNote.uuid = 'green-uuid';
        greenNote.data = {
          position: { left: 100, top: 250 },
          title: 'Green Note',
          body: 'Green represents nature and growth. I can grow in height as you type more content in my body!',
          color: 'green'
        };

        const grayNote = document.getElementById('gray-note');
        grayNote.uuid = 'gray-uuid';
        grayNote.data = {
          position: { left: 400, top: 300 },
          title: 'Gray Note',
          body: 'Gray is neutral and professional.',
          color: 'gray'
        };
      });
    </script>
  </body>
</html>
